<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="resources/css/style_eventos_parque.css">
    
    <link href='https://fonts.googleapis.com/css?family=JetBrains Mono' rel='stylesheet'>
    <title>Eventos del Parque</title>
</head>
<body>
    <h1>Eventos del Parque</h1>

    <h2>Agregar Nuevo Evento</h2>
    <form action="/agregar-evento" method="post">
        <label for="piloto_evento">Piloto:</label>
        <input type="text" id="piloto_evento" name="piloto_evento" required>
        <br>
        <label for="testigo_evento">Testigo:</label>
        <input type="text" id="testigo_evento" name="testigo_evento" required>
        <br>
        <label for="cantpanel_evento">Cantidad de paneles:</label>
        <input type="text" id="cantpanel_evento" name="cantpanel_evento" required>
        <br>
        <label for="vueloini_evento">Inicio del vuelo:</label>
        <input type="time" id="vueloini_evento" name="vueloini_evento" required>
        <br>
        <label for="vuelofin_evento">Fin del vuelo:</label>
        <input type="time" id="vuelofin_evento" name="vuelofin_evento" required>
        <br>
        <label for="ob_evento">Observaciones:</label>
        <textarea id="ob_evento" name="ob_evento"></textarea>
        <br>
        <label for="tipopanel_evento">Tipo de panel:</label>
        <select id="tipopanel_evento" name="tipopanel_evento" required>
            <option value="monocromatico">Monocromático</option>
            <option value="policromatico">Policromático</option>
        </select>
        <br>
        <!-- Campo oculto para enviar el ID del parque -->
        <input type="hidden" id="id_parque_evento" name="id_parque_evento" value="<%= id_del_parque %>">
        
        <button type="submit">Agregar Evento</button>
    </form>

    <h2>Lista de Eventos</h2>
    <table>
        <tr>
            <th>ID</th>
            <th>Piloto</th>
            <th>Testigo</th>
            <th>Fecha</th>
            <th>Cantidad de Paneles</th>
            <th>Observaciones</th>
            <th>Tipo de Panel</th>
        </tr>
        <% eventos.forEach(evento => { %>
            <tr>
                <td><%= evento.id_evento %></td>
                <td><%= evento.piloto_evento %></td>
                <td><%= evento.testigo_evento %></td>
                <td><%= evento.fecha_evento %></td>
                <td><%= evento.cantpanel_evento %></td>
                <td><%= evento.ob_evento %></td>
                <td><%= evento.tipopanel_evento %></td>
            </tr>
        <% }); %>
    </table>
</body>
</html>
